<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.Translate.Core</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.Translate.Core";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">Core</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Batteries/Lean/NameMapAttribute.html">Batteries.Lean.NameMapAttribute</a></li><li><a href="../../.././Batteries/Tactic/Trans.html">Batteries.Tactic.Trans</a></li><li><a href="../../.././Lean/Compiler/NoncomputableAttr.html">Lean.Compiler.NoncomputableAttr</a></li><li><a href="../../.././Lean/Meta/CoeAttr.html">Lean.Meta.CoeAttr</a></li><li><a href="../../.././Mathlib/Tactic/Eqns.html">Mathlib.Tactic.Eqns</a></li><li><a href="../../.././Lean/Elab/Tactic/Ext.html">Lean.Elab.Tactic.Ext</a></li><li><a href="../../.././Lean/Meta/Tactic/Rfl.html">Lean.Meta.Tactic.Rfl</a></li><li><a href="../../.././Lean/Meta/Tactic/Symm.html">Lean.Meta.Tactic.Symm</a></li><li><a href="../../.././Mathlib/Data/Array/Defs.html">Mathlib.Data.Array.Defs</a></li><li><a href="../../.././Mathlib/Lean/Meta/Simp.html">Mathlib.Lean.Meta.Simp</a></li><li><a href="../../.././Mathlib/Tactic/Simps/Basic.html">Mathlib.Tactic.Simps.Basic</a></li><li><a href="../../.././Mathlib/Tactic/Simps/Basic.html">Mathlib.Tactic.Simps.Basic</a></li><li><a href="../../.././Mathlib/Tactic/Translate/GuessName.html">Mathlib.Tactic.Translate.GuessName</a></li><li><a href="../../.././Mathlib/Tactic/Translate/UnfoldBoundary.html">Mathlib.Tactic.Translate.UnfoldBoundary</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.Translate.Core" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.attrOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">attrOption</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.reorderOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">reorderOption</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.relevantArgOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">relevantArgOption</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.dontTranslateOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">dontTranslateOption</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.bracketedOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">bracketedOption</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.translationHint"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">translationHint</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.attrArgs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">attrArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.linter.existingAttributeWarning"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">existingAttributeWarning</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.linter.translateGenerateName"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateGenerateName</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.linter.translateExisting"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateExisting</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.linter.translateReorder"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateReorder</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.linter.translateRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateRelevantArg</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.linter.translateOverwrite"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateOverwrite</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.linter.translateRedundant"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateRedundant</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.Reorder"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">Reorder</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.RelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">RelevantArg</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.instBEqRelevantArg.beq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instBEqRelevantArg</span>.<span class="name">beq</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.instBEqRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instBEqRelevantArg</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.instInhabitedRelevantArg.default"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instInhabitedRelevantArg</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.instInhabitedRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instInhabitedRelevantArg</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.instToMessageDataRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instToMessageDataRelevantArg</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.TranslationInfo"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">TranslationInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.TranslateData"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">TranslateData</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.findTranslation?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findTranslation?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.findTranslationName?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findTranslationName?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.findPrefixTranslation?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findPrefixTranslation?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.insertTranslation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">insertTranslation</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.Config"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">Config</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.etaExpandN"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">etaExpandN</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.ReplacementM"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">ReplacementM</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.ReplacementM.run"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">ReplacementM</span>.<span class="name">run</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.shouldTranslate"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">shouldTranslate</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.List.swapFirstTwo"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">List</span>.<span class="name">swapFirstTwo</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.applyReplacementFun"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyReplacementFun</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.renameBinderNames"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">renameBinderNames</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.reorderForall"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">reorderForall</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.reorderLambda"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">reorderLambda</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.applyReplacementForall"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyReplacementForall</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.applyReplacementLambda"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyReplacementLambda</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.updateDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">updateDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.updateAndAddDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">updateAndAddDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.declUnfoldSimpAuxLemmas"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">declUnfoldSimpAuxLemmas</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.findTargetName"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findTargetName</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.findAuxDecls"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findAuxDecls</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.getRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">getRelevantArg</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.transformDeclRec"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">transformDeclRec</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.copyInstanceAttribute"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">copyInstanceAttribute</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.warnAttrCore"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">warnAttrCore</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.warnAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">warnAttr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.warnParametricAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">warnParametricAttr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.translateLemmas"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">translateLemmas</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.targetName"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">targetName</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.guessReorder"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">guessReorder</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.checkExistingType"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">checkExistingType</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.proceedFieldsAux"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">proceedFieldsAux</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.proceedFields"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">proceedFields</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.elabArgStx"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">elabArgStx</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.elabTranslationAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">elabTranslationAttr</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.applyAttributes"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyAttributes</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.copyMetaData"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">copyMetaData</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Translate.addTranslationAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">addTranslationAttr</span></a></div></nav><main>
<div class="mod_doc"><h1 id="The-translation-attribute" class="markdown-heading">The translation attribute. <a class="hover-link" href="#The-translation-attribute">#</a></h1><p>Implementation of the translation attribute. This is used for <code>@[to_additive]</code> and <code>@[to_dual]</code>.
See the docstring of <code>to_additive</code> for more information</p></div><div class="decl" id="Mathlib.Tactic.Translate.attrOption"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L38-L44">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.attrOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">attrOption</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>(attr := ...)</code> applies the given attributes to the original and the translated declaration.
In the case of <code>to_additive</code>, we may want to apply it multiple times,
(such as in <code>a ^ n</code> -&gt; <code>n • a</code> -&gt; <code>n +ᵥ a</code>). In this case, you should use the syntax
<code>to_additive (attr := some_other_attr, to_additive)</code>, which will apply <code>some_other_attr</code> to all
three generated declarations.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.attrOption" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.reorderOption"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L45-L55">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.reorderOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">reorderOption</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>(reorder := ...)</code> reorders the arguments/hypotheses in the generated declaration.
It uses cycle notation. For example <code>(reorder := α β, 5 6)</code> swaps the arguments <code>α</code> and <code>β</code>
with each other and the fifth and the sixth argument, and <code>(reorder := 3 4 5)</code> will move
the fifth argument before the third argument. This is used in <code>to_dual</code> to swap the arguments in
<code>≤</code>, <code>&lt;</code> and <code>⟶</code>. It is also used in <code>to_additive</code> to translate from <code>a ^ n</code> to <code>n • a</code>.</p><p>If the translated declaration already exists (i.e. when using <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.existing">existing</a></code> or <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.self">self</a></code>), this is
inferred automatically using the function <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.guessReorder">guessReorder</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.reorderOption" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.relevantArgOption"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L56-L75">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.relevantArgOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">relevantArgOption</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>the <code>(relevant_arg := ...)</code> option tells which argument to look at to determine whether to
translate this constant. This is inferred automatically,
but it can also be overwritten using this syntax.</p><p>If there are multiple possible arguments, we typically tag the first one.
If this argument contains a fixed type, this declaration will not be translated.
See the Heuristics section of the <code>to_additive</code> doc-string for more details.</p><p>When it cannot be inferred automatically, it is presumed that the first argument is relevant.</p><p>Use <code>(relevant_arg := _)</code> to indicate that there is no relevant argument.</p><p>Implementation note: we only allow exactly 1 relevant argument, even though some declarations
(like <code>Prod.instGroup</code>) have multiple relevant arguments.
The reason is that whether we translate a declaration is an all-or-nothing decision, and
we will not be able to translate declarations that (e.g.) talk about multiplication on <code>ℕ × α</code>
anyway.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.relevantArgOption" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.dontTranslateOption"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L76-L84">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.dontTranslateOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">dontTranslateOption</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code>(dont_translate := ...)</code> takes a list of type variables (separated by spaces) that should not be
considered for translation. For example in</p><pre><code><a href="../../.././Mathlib/Tactic/Lemma.html#lemma">lemma</a> foo {α β : Type} [Group α] [Group β] (a : α) (b : β) : a * a⁻¹ = 1 ↔ b * b⁻¹ = 1
</code></pre><p>we can choose to only translate <code>α</code> by writing <code>to_additive (dont_translate := β)</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.dontTranslateOption" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.bracketedOption"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L85-L86">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.bracketedOption"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">bracketedOption</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.bracketedOption" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.translationHint"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L88-L103">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.translationHint"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">translationHint</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>A hint about the translated declaration</p><ul><li><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.existing">existing</a></code> indicates that the translated form of the declaration is a pre-existing declaration.
This is useful when the value cannot be translated, either because of a limitation in the
translation heuristics, or because the value/proof is genuinely different.</p></li><li><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.self">self</a></code> indicates that the declaration translates to itself, up to some reordering of arguments.
If no arguments are reordered then the attribute is redundant, which the <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.translateRedundant">translateRedundant</a></code>
linter will warn about.</p></li><li><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.none">none</a></code> indicates that the translated declaration should not get a user-facing name,
instead being named like an auxiliary declaration. This is particularly useful for <code>to_dual</code> when
using the <code>reassoc</code> attribute, because the dual of a right associated term is left associated,
but we only want user-facing lemmas with right associated terms.</p></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.translationHint" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.attrArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L105-L106">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.attrArgs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">attrArgs</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.attrArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.linter.existingAttributeWarning"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L114-L119">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.existingAttributeWarning"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">existingAttributeWarning</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Linter, mostly used by translate attributes, that checks that the source declaration doesn't
have certain attributes</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.linter.translateGenerateName"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L121-L126">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.translateGenerateName"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateGenerateName</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Linter used by translate attributes that checks if the given declaration name is
equal to the automatically generated name</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.linter.translateExisting"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L128-L133">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.translateExisting"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateExisting</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Linter to check whether the user correctly specified that the translated declaration already
exists</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.linter.translateReorder"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L135-L140">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.translateReorder"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateReorder</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Linter used by translate attributes that checks if the given reorder is
equal to the automatically generated name</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.linter.translateRelevantArg"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L142-L147">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.translateRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateRelevantArg</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Linter used by translate attributes that checks if the relevant_arg is
automatically generated.</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.linter.translateOverwrite"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L149-L152">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.translateOverwrite"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateOverwrite</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Linter used by translate attributes that checks if the attribute was already applied</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.linter.translateRedundant"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L154-L157">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.linter.translateRedundant"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">linter</span>.<span class="name">translateRedundant</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Linter used by translate attributes that checks if the attribute is redundant</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.Reorder"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L159-L161">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">Reorder</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a></code> represents a permutation of arguments in a translation.
It is specified with the <code>(reorder := ...)</code> notation using a disjoint cycle representation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Mathlib.Tactic.Translate.Reorder</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.Reorder" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.RelevantArg"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L163-L170">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">RelevantArg</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></code> represents an optional argument that should be checked to determine
whether or not to translate the given constant.</p><ul class="constructors"><li class="constructor" id="Mathlib.Tactic.Translate.RelevantArg.noArg">noArg : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a><div class="inductive_ctor_doc"><p>No argument needs to be checked. This is specified with <code>(relevant_arg := _)</code>.</p></div></li><li class="constructor" id="Mathlib.Tactic.Translate.RelevantArg.arg">arg<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
 : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a><div class="inductive_ctor_doc"><p>Argument <code>n</code> needs to be checked. This is specified with <code>(relevant_arg := n)</code>.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Translate.RelevantArg" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.instBEqRelevantArg.beq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L170-L170">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instBEqRelevantArg.beq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instBEqRelevantArg</span>.<span class="name">beq</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a> → <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instBEqRelevantArg.beq">Mathlib.Tactic.Translate.instBEqRelevantArg.beq</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg.noArg">Mathlib.Tactic.Translate.RelevantArg.noArg</a>
    <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg.noArg">Mathlib.Tactic.Translate.RelevantArg.noArg</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#Bool.true">true</a></li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instBEqRelevantArg.beq">Mathlib.Tactic.Translate.instBEqRelevantArg.beq</a> <span class="fn">(<a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg.arg">Mathlib.Tactic.Translate.RelevantArg.arg</a> <span class="fn">a</span>)</span>
    <span class="fn">(<a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg.arg">Mathlib.Tactic.Translate.RelevantArg.arg</a> <span class="fn">b</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span>)</li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instBEqRelevantArg.beq">Mathlib.Tactic.Translate.instBEqRelevantArg.beq</a> <span class="fn">x✝¹</span> <span class="fn">x✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.instBEqRelevantArg.beq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.instBEqRelevantArg"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L170-L170">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instBEqRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instBEqRelevantArg</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instBEqRelevantArg">Mathlib.Tactic.Translate.instBEqRelevantArg</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instBEqRelevantArg.beq">Mathlib.Tactic.Translate.instBEqRelevantArg.beq</a> <a href="../../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.instInhabitedRelevantArg.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L170-L170">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instInhabitedRelevantArg.default"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instInhabitedRelevantArg</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instInhabitedRelevantArg.default">Mathlib.Tactic.Translate.instInhabitedRelevantArg.default</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg.noArg">Mathlib.Tactic.Translate.RelevantArg.noArg</a></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.instInhabitedRelevantArg.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.instInhabitedRelevantArg"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L170-L170">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instInhabitedRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instInhabitedRelevantArg</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instInhabitedRelevantArg">Mathlib.Tactic.Translate.instInhabitedRelevantArg</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instInhabitedRelevantArg.default">Mathlib.Tactic.Translate.instInhabitedRelevantArg.default</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.instToMessageDataRelevantArg"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L179-L182">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.instToMessageDataRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">instToMessageDataRelevantArg</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Message.html#Lean.ToMessageData">Lean.ToMessageData</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.TranslationInfo"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L184-L191">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">TranslationInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo">TranslationInfo</a></code> stores the information of how to translate a constant.</p><ul class="structure_fields" id="Mathlib.Tactic.Translate.TranslationInfo.mk"><li id="Mathlib.Tactic.Translate.TranslationInfo.translation" class="structure_field"><div class="structure_field_info">translation : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div><div class="structure_field_doc"><p>The name that we are translating to.</p></div></li><li id="Mathlib.Tactic.Translate.TranslationInfo.reorder" class="structure_field"><div class="structure_field_info">reorder : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a></div><div class="structure_field_doc"><p>The arguments that should be reordered when translating, using disjoint cycle notation.</p></div></li><li id="Mathlib.Tactic.Translate.TranslationInfo.relevantArg" class="structure_field"><div class="structure_field_info">relevantArg : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></div><div class="structure_field_doc"><p>The argument used to determine whether this constant should be translated.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Translate.TranslationInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.TranslateData"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L193-L224">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">TranslateData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a></code> is a structure that holds all data required for a translation attribute.</p><ul class="structure_fields" id="Mathlib.Tactic.Translate.TranslateData.mk"><li id="Mathlib.Tactic.Translate.TranslateData.ignoreArgsAttr" class="structure_field"><div class="structure_field_info">ignoreArgsAttr : <span class="fn"><a href="../../.././Batteries/Lean/NameMapAttribute.html#Lean.NameMapExtension">Lean.NameMapExtension</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span></div><div class="structure_field_doc"><p>An attribute that tells that certain arguments of this definition are not
involved when translating.
This helps the translation heuristic by also transforming definitions if <code>ℕ</code> or another
fixed type occurs as one of these arguments.</p></div></li><li id="Mathlib.Tactic.Translate.TranslateData.doTranslateAttr" class="structure_field"><div class="structure_field_info">doTranslateAttr : <span class="fn"><a href="../../.././Batteries/Lean/NameMapAttribute.html#Lean.NameMapExtension">Lean.NameMapExtension</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div><div class="structure_field_doc"><p>The global <code>do_translate</code>/<code>dont_translate</code> attributes specify whether operations on
a given type should be translated. <code>dont_translate</code> can be used for types that are translated,
such as <code>MonoidAlgebra</code> -&gt; <code>AddMonoidAlgebra</code>, or for fixed types, such as <code><a href="../../.././Init/Prelude.html#Fin">Fin</a> n</code>/<code>ZMod n</code>.
<code>do_translate</code> is for types without arguments, like <code><a href="../../.././Init/Prelude.html#Unit">Unit</a></code> and <code><a href="../../.././Init/Prelude.html#Empty">Empty</a></code>, where the structure on it
can be translated.</p><p>Note: The name generation is not aware of <code>dont_translate</code>, so if some part of a lemma is not
translated thanks to this, you generally have to specify the translated name manually.</p></div></li><li id="Mathlib.Tactic.Translate.TranslateData.unfoldBoundaries?" class="structure_field"><div class="structure_field_info">unfoldBoundaries? : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/UnfoldBoundary.html#Mathlib.Tactic.UnfoldBoundary.UnfoldBoundaryExt">UnfoldBoundary.UnfoldBoundaryExt</a></span></div><div class="structure_field_doc"><p>The <code>insert_cast</code>/<code>insert_cast_fun</code> attributes create an abstraction boundary for the tagged
constant when translating it. For example, <code>Set.Icc</code>, <code>Monotone</code>, <code><a href="../../.././Init/Prelude.html#DecidableLT">DecidableLT</a></code>, <code>WCovBy</code> are all
morally self-dual, but their definition is not self-dual. So, in order to allow these constants
to be self-dual, we need to not unfold their definition in the proof term that we translate.</p></div></li><li id="Mathlib.Tactic.Translate.TranslateData.translations" class="structure_field"><div class="structure_field_info">translations : <span class="fn"><a href="../../.././Batteries/Lean/NameMapAttribute.html#Lean.NameMapExtension">Lean.NameMapExtension</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo">TranslationInfo</a></span></div><div class="structure_field_doc"><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData.translations">translations</a></code> stores all of the constants that have been tagged with this attribute,
and maps them to their translation.</p></div></li><li id="Mathlib.Tactic.Translate.TranslateData.attrName" class="structure_field"><div class="structure_field_info">attrName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div><div class="structure_field_doc"><p>The name of the attribute, for example <code>to_additive</code> or <code>to_dual</code>.</p></div></li><li id="Mathlib.Tactic.Translate.TranslateData.changeNumeral" class="structure_field"><div class="structure_field_info">changeNumeral : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>If <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData.changeNumeral">changeNumeral</a> := true</code>, then try to translate the number <code>1</code> to <code>0</code>.</p></div></li><li id="Mathlib.Tactic.Translate.TranslateData.isDual" class="structure_field"><div class="structure_field_info">isDual : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData.isDual">isDual</a> := true</code>, every translation <code>A → B</code> will also give a translation <code>B → A</code>.</p></div></li><li id="Mathlib.Tactic.Translate.TranslateData.guessNameData" class="structure_field"><div class="structure_field_info">guessNameData : <a href="../../.././Mathlib/Tactic/Translate/GuessName.html#Mathlib.Tactic.GuessName.GuessNameData">GuessName.GuessNameData</a></div><div class="structure_field_doc"><p>The data that is required to guess the name of a translation.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Translate.TranslateData" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.findTranslation?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L228-L230">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findTranslation?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findTranslation?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo">TranslationInfo</a></span></span></div></div><p>Get the translation for the given name.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findTranslation?">Mathlib.Tactic.Translate.findTranslation?</a> <span class="fn">env</span> <span class="fn">t</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData.translations">translations</a></span>.<a href="../../.././Batteries/Lean/NameMapAttribute.html#Lean.NameMapExtension.find?">find?</a></span> <span class="fn">env</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.findTranslation?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.findTranslationName?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L232-L234">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findTranslationName?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findTranslationName?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><p>Get the translation name for the given name.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findTranslationName?">Mathlib.Tactic.Translate.findTranslationName?</a> <span class="fn">env</span> <span class="fn">t</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#Option.map">Option.map</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo">Mathlib.Tactic.Translate.TranslationInfo</a>) =&gt; <span class="fn"><span class="fn">x</span>.<a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo.translation">translation</a></span>)</span>
    <span class="fn">(<a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findTranslation?">Mathlib.Tactic.Translate.findTranslation?</a> <span class="fn">env</span> <span class="fn">t</span> <span class="fn">n</span>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.findTranslationName?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.findPrefixTranslation?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L236-L266">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findPrefixTranslation?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findPrefixTranslation?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo">TranslationInfo</a>)</span></span></div></div><p>Get the translation for the given name,
falling back to translating a prefix of the name if the full name can't be translated.
This allows translating automatically generated declarations such as <code>IsRegular.casesOn</code>.
We make sure that the new constant is realized.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.findPrefixTranslation?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.insertTranslation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L268-L292">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.insertTranslation"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">insertTranslation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relevantArg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Add a translation to the translations map. If the translation attribute is dual,
also add the reverse translation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.insertTranslation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.Config"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L294-L329">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">Config</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a></code> is the type of the arguments that can be provided to <code>to_additive</code>.</p><ul class="structure_fields" id="Mathlib.Tactic.Translate.Config.mk"><li id="Mathlib.Tactic.Translate.Config.trace" class="structure_field"><div class="structure_field_info">trace : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>View the trace of the translation procedure.
Equivalent to <code>set_option trace.translate true</code>.</p></div></li><li id="Mathlib.Tactic.Translate.Config.tgt" class="structure_field"><div class="structure_field_info">tgt : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div><div class="structure_field_doc"><p>The given name of the target.</p></div></li><li id="Mathlib.Tactic.Translate.Config.doc" class="structure_field"><div class="structure_field_info">doc : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#String">String</a></span></div><div class="structure_field_doc"><p>An optional doc string.</p></div></li><li id="Mathlib.Tactic.Translate.Config.allowAutoName" class="structure_field"><div class="structure_field_info">allowAutoName : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>If <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.allowAutoName">allowAutoName</a></code> is <code>false</code> (default) then
we check whether the given name can be auto-generated.</p></div></li><li id="Mathlib.Tactic.Translate.Config.reorder?" class="structure_field"><div class="structure_field_info">reorder? : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a></span></div><div class="structure_field_doc"><p>The arguments that should be reordered when translating, using cycle notation.</p></div></li><li id="Mathlib.Tactic.Translate.Config.relevantArg?" class="structure_field"><div class="structure_field_info">relevantArg? : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span></div><div class="structure_field_doc"><p>The argument used to determine whether this constant should be translated.</p></div></li><li id="Mathlib.Tactic.Translate.Config.attrs" class="structure_field"><div class="structure_field_info">attrs : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div><div class="structure_field_doc"><p>The attributes which we want to give to the original and translated declaration.
For <code>simps</code> this will also add generated lemmas to the translation dictionary.</p></div></li><li id="Mathlib.Tactic.Translate.Config.dontTranslate" class="structure_field"><div class="structure_field_info">dontTranslate : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p>A list of positions of type variables that should not be translated.</p></div></li><li id="Mathlib.Tactic.Translate.Config.ref" class="structure_field"><div class="structure_field_info">ref : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div><div class="structure_field_doc"><p>The <code>Syntax</code> element corresponding to the translation attribute,
which we need for adding definition ranges, and for logging messages.</p></div></li><li id="Mathlib.Tactic.Translate.Config.existing" class="structure_field"><div class="structure_field_info">existing : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>An optional flag stating that the translated declaration already exists.
If this flag is wrong about whether the translated declaration exists, we raise a linter error.
Note: the linter will never raise an error for inductive types and structures.</p></div></li><li id="Mathlib.Tactic.Translate.Config.self" class="structure_field"><div class="structure_field_info">self : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>An optional flag stating that the target of the translation is the target itself.
This can be used to reorder arguments, such as in
<code>attribute [to_dual <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.self">self</a> (reorder := 3 4)] <a href="../../.././Init/Prelude.html#LE.le">LE.le</a></code>.
If <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.self">self</a> := true</code>, we should also have <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.existing">existing</a> := true</code>.</p></div></li><li id="Mathlib.Tactic.Translate.Config.none" class="structure_field"><div class="structure_field_info">none : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>An optional flag for not giving the new declaration a user-facing name.
This is achieved by appending e.g. <code>_to_dual_1</code> to the name of the original declaration.</p></div></li></ul><details id="instances-for-list-Mathlib.Tactic.Translate.Config" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.etaExpandN"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L331-L336">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.etaExpandN"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">etaExpandN</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Eta expands <code>e</code> exactly <code>n</code> times.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.etaExpandN" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.ReplacementM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L338-L343">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.ReplacementM"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">ReplacementM</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Monad used by <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementFun">applyReplacementFun</a></code>.</p><ul><li>The reader stores the free variables on which nothing should be translated.</li><li>The state stores the free variables on which something has been translated.</li><li>The cache caches the results on subexpressions.</li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.ReplacementM">Mathlib.Tactic.Translate.ReplacementM</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#ReaderT">ReaderT</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span>
    <span class="fn">(<a href="../../.././Lean/Util/MonadCache.html#Lean.MonadCacheT">Lean.MonadCacheT</a> <a href="../../.././Lean/Expr.html#Lean.ExprStructEq">Lean.ExprStructEq</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <span class="fn">(<a href="../../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <span class="fn">(<a href="../../.././Std/Data/HashSet/Basic.html#Std.HashSet">Std.HashSet</a> <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span> <a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a>)</span>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.ReplacementM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.ReplacementM.run"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L345-L350">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.ReplacementM.run"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">ReplacementM</span>.<span class="name">run</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">dontTranslate </span><span class="fn">allFVars</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.ReplacementM">ReplacementM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></div></div><p>Run a <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.ReplacementM">ReplacementM</a></code> computation, returning the result and the value of <code>relevant_arg</code> that
corresponds to this translation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.ReplacementM.run" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.shouldTranslate"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L410-L419">source</a></div><div class="attributes">@[implemented_by _private.Mathlib.Tactic.Translate.Core.0.Mathlib.Tactic.Translate.shouldTranslateUnsafe]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.shouldTranslate"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">shouldTranslate</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.ReplacementM">ReplacementM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.shouldTranslate">shouldTranslate</a> e</code> tests whether the expression <code>e</code> contains a constant
that is not applied to any arguments and that doesn't have a translation itself.
This is used for deciding which subexpressions to translate: we only translate
constants if <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.shouldTranslate">shouldTranslate</a></code> applied to their relevant argument returns <code>true</code>.
This means we will replace expression applied to e.g. <code>α</code> or <code>α × β</code>, but not when applied to
e.g. <code>ℕ</code> or <code>ℝ × α</code>.
We ignore all arguments specified by the <code>ignore</code> <code>NameMap</code>.</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.List.swapFirstTwo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L421-L425">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.List.swapFirstTwo"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">List</span>.<span class="name">swapFirstTwo</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span></span></div></div><p>Swap the first two elements of a list</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.List.swapFirstTwo">Mathlib.Tactic.Translate.List.swapFirstTwo</a> <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a></li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.List.swapFirstTwo">Mathlib.Tactic.Translate.List.swapFirstTwo</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">x_1</span><a href="../../.././Init/Prelude.html#List.cons">]</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">x_1</span><a href="../../.././Init/Prelude.html#List.cons">]</a></li><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.List.swapFirstTwo">Mathlib.Tactic.Translate.List.swapFirstTwo</a> (<span class="fn">x_1</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">l</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">x_1</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">l</span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.List.swapFirstTwo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.applyReplacementFun"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L427-L537">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementFun"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyReplacementFun</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.ReplacementM">ReplacementM</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementFun">applyReplacementFun</a> e</code> replaces the expression <code>e</code> with its translation.
It translates each identifier (inductive type, defined function etc) in an expression, unless</p><ul><li>The identifier occurs in an application with <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo.relevantArg">relevantArg</a></code> argument <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg.arg">arg</a></code>; and</li><li><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.shouldTranslate">shouldTranslate</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg.arg">arg</a></code> is false.</li></ul><p>It will also reorder arguments of certain functions, using the stored <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo.reorder">reorder</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementFun">Mathlib.Tactic.Translate.applyReplacementFun</a> <span class="fn">t</span> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Mathlib/Tactic/Translate/Core.html#_private.Mathlib.Tactic.Translate.Core.0.Mathlib.Tactic.Translate.applyReplacementFun.visit">Mathlib.Tactic.Translate.applyReplacementFun.visit✝</a> <span class="fn">t</span> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.applyReplacementFun" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.renameBinderNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L539-L543">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.renameBinderNames"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">renameBinderNames</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><p>Rename binder names in pi type.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.renameBinderNames" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.reorderForall"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L545-L555">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.reorderForall"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">reorderForall</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Reorder pi-binders. See doc of <code>reorderAttr</code> for the interpretation of the argument</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.reorderForall" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.reorderLambda"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L557-L570">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.reorderLambda"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">reorderLambda</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Reorder lambda-binders. See doc of <code>reorderAttr</code> for the interpretation of the argument</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.reorderLambda" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.applyReplacementForall"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L572-L593">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementForall"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyReplacementForall</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">dontTranslate</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span>)</span></div></div><p>Run <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementFun">applyReplacementFun</a></code> on an expression <code>∀ x₁ .. xₙ, e</code>,
making sure not to translate type-classes on <code>xᵢ</code> if <code>i</code> is in <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.dontTranslate">dontTranslate</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.applyReplacementForall" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.applyReplacementLambda"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L595-L611">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementLambda"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyReplacementLambda</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">dontTranslate</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span>)</span></div></div><p>Run <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementFun">applyReplacementFun</a></code> on an expression <code>fun x₁ .. xₙ ↦ e</code>,
making sure not to translate type-classes on <code>xᵢ</code> if <code>i</code> is in <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.dontTranslate">dontTranslate</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.applyReplacementLambda" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.updateDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L613-L637">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.updateDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">updateDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">srcDecl</span> : <a href="../../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">dont</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">unfoldBoundaries?</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/UnfoldBoundary.html#Mathlib.Tactic.UnfoldBoundary.UnfoldBoundaries">UnfoldBoundary.UnfoldBoundaries</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<a href="../../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span>)</span></div></div><p>Run <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyReplacementFun">applyReplacementFun</a></code> on the given <code>srcDecl</code> to make a new declaration with name <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.tgt">tgt</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.updateDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.updateAndAddDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L639-L678">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.updateAndAddDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">updateAndAddDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">srcDecl</span> : <a href="../../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">dont</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<a href="../../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span>)</span></div></div><p>Translate the source declaration and then run <code>addDecl</code>. If the kernel throws an error,
try to emit a better error message.</p><p>For efficiency in <code>to_dual</code>, we first run <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.updateDecl">updateDecl</a></code> without any <code>UnfoldBoundaries</code>,
and only if that fails do we try to include them.
The reason is that in the most common case, <code>to_dual</code> succeeds without needing to insert
unfold boundaries, and figuring out whether to insert them can be quite expensive.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.updateAndAddDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.declUnfoldSimpAuxLemmas"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L680-L692">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.declUnfoldSimpAuxLemmas"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">declUnfoldSimpAuxLemmas</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">decl</span> : <a href="../../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a></span></div></div><p>Unfold <code>simp</code> and <code>gcongr</code> auxlemmas in the type and value.
The reason why we can't just translate them is that they are generated by the <code>@[simp]</code> attribute,
so it would require a change in the implementation of <code>@[simp]</code> to add these translateions.
Additionally, these lemmas have very short proofs, so unfolding them is not costly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.declUnfoldSimpAuxLemmas" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.findTargetName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L694-L704">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findTargetName"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findTargetName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">rootSrc </span><span class="fn">rootTgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><p>Find the target name of <code>src</code>, which is assumed to have been selected by <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findAuxDecls">findAuxDecls</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.findTargetName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.findAuxDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L706-L722">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.findAuxDecls"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">findAuxDecls</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">decl</span> : <a href="../../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pre</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span></div></div><p>Returns a <code>NameSet</code> of auxiliary constants in <code>decl</code> that might have been generated
when adding <code>pre</code> to the environment, and which hence might need to be translated.
Examples include <code>pre.match_5</code>, <code>pre._proof_2</code>, <code>someOtherDeclaration._proof_2</code> and <code>wrapped✝</code>.
The reason why we have to include <code>_proof_i</code> lemmas from other declarations is that there is a
cache of such proofs, and previous such auxiliary proofs are reused when possible.
These auxiliary declarations may be private or not, independent of whether <code>pre</code> is private.
<code>wrapped✝</code> is generated by <code>irreducible_def</code>, and it has macro scopes.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.findAuxDecls" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.getRelevantArg"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L724-L741">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.getRelevantArg"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">getRelevantArg</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relevantArg?</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a></span></div></div><p>Return the <code>relevant_arg</code> option based on the computed <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.relevantArg?">relevantArg?</a></code>
and the given <code>cfg.<a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.relevantArg?">relevantArg?</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.getRelevantArg" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.transformDeclRec"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L743-L834">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.transformDeclRec"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">transformDeclRec</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rootSrc </span><span class="fn">rootTgt </span><span class="fn">src</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Translate the declaration <code>src</code> and recursively all declarations <code>pre._proof_i</code>
occurring in <code>src</code> using the <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData.translations">translations</a></code> dictionary.</p><p><code>replace_all</code>, <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.trace">trace</a></code>, <code>ignore</code> and <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo.reorder">reorder</a></code> are configuration options.</p><p><code>pre</code> is the declaration that got the translation attribute and <code>tgt_pre</code> is the target of this
declaration.</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.copyInstanceAttribute"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L836-L843">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.copyInstanceAttribute"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">copyInstanceAttribute</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Copy the instance attribute in a <code>to_additive</code></p><p>[todo] it seems not to work when the <code>to_additive</code> is added as an attribute later.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.copyInstanceAttribute" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.warnAttrCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L845-L857">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.warnAttrCore"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">warnAttrCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a> → <span class="fn"><a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">thisAttr </span><span class="fn">attrName </span><span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Warn the user when the declaration has an attribute.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.warnAttrCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.warnAttr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L859-L862">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.warnAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">warnAttr</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">attr</span> : <span class="fn"><a href="../../.././Lean/ScopedEnvExtension.html#Lean.SimpleScopedEnvExtension">Lean.SimpleScopedEnvExtension</a> <span class="fn">α</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">thisAttr </span><span class="fn">attrName </span><span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Warn the user when the declaration has a simple scoped attribute.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.warnAttr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.warnParametricAttr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L864-L867">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.warnParametricAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">warnParametricAttr</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">attr</span> : <span class="fn"><a href="../../.././Lean/Attributes.html#Lean.ParametricAttribute">Lean.ParametricAttribute</a> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">thisAttr </span><span class="fn">attrName </span><span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Warn the user when the declaration has a parametric attribute.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.warnParametricAttr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.translateLemmas"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L869-L882">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.translateLemmas"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">translateLemmas</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Exception.html#Lean.MonadError">Lean.MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">names</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relevantArg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">desc</span> : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">runAttr</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.translateLemmas">translateLemmas</a> names argInfo desc t</code> runs <code>t</code> on all elements of <code>names</code>
and adds translations between the generated lemmas (the output of <code>t</code>).
<code>names</code> must be non-empty.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.translateLemmas" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.targetName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L884-L919">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.targetName"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">targetName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><p>Return the provided target name or autogenerate one if one was not provided.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.targetName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.guessReorder"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L921-L982">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.guessReorder"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">guessReorder</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a></div></div><p>Try to determine the value of the <code>(reorder := ...)</code> option that would be needed to translate
type <code>e₁</code> to type <code>e₂</code>. If there is no good guess, default to <code>[]</code>.
The heuristic that we use is to compare the conclusions of <code>e₁</code> and <code>e₂</code>,
and to observe which variables are swapped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.guessReorder" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.checkExistingType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L984-L1034">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.checkExistingType"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">checkExistingType</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a>)</span></div></div><p>Verify that the type of <code>srcDecl</code> translates to that of <code>tgtDecl</code>.
Also try to autogenerate the <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslationInfo.reorder">reorder</a></code> option for this translation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.checkExistingType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.proceedFieldsAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L1036-L1046">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.proceedFieldsAux"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">proceedFieldsAux</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relevantArg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>if <code>f src = #[a_1, ..., a_n]</code> and <code>f <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.tgt">tgt</a> = #[b_1, ... b_n]</code> then <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.proceedFieldsAux">proceedFieldsAux</a> src <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.tgt">tgt</a> f</code>
will insert translations from <code>a_i</code> to <code>b_i</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.proceedFieldsAux" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.proceedFields"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L1048-L1071">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.proceedFields"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">proceedFields</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relevantArg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Add the structure fields of <code>src</code> to the translations dictionary
so that they will be translated correctly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.proceedFields" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.elabArgStx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L1073-L1092">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.elabArgStx"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">elabArgStx</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">argNames</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">`ident</span><a href="../../.././Init/Prelude.html#List.cons">,</a> <span class="fn">`num</span><a href="../../.././Init/Prelude.html#List.cons">]</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Elaborate syntax that refers to an argument of the declaration.
This is either a 1-indexed number, or a name from <code>argNames</code>.
<code>args</code> is only used to add hover information to <code>stx</code>,
and <code>declName</code> is only used for the error message.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.elabArgStx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.elabTranslationAttr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L1094-L1184">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.elabTranslationAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">elabTranslationAttr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a></span></div></div><p>Elaboration of the configuration options for a translation attribute. It is assumed that</p><ul><li><code>stx[0]</code> is the attribute (e.g. <code>to_additive</code>)</li><li><code>stx[1]</code> is the optional tracing <code>?</code></li><li><code>stx[2]</code> is the remaining <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.attrArgs">attrArgs</a></code></li></ul><p>TODO: Currently, we don't deduce any <code>dont_translate</code> arguments based on the type of <code>declName</code>.
In the future we would like that the presence of <code>MonoidAlgebra k G</code> will automatically
flag <code>k</code> as a type to not be translated.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Translate.elabTranslationAttr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Translate.applyAttributes"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L1187-L1253">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.applyAttributes"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">applyAttributes</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src </span><span class="fn">tgt</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">reorder</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Reorder">Reorder</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">relevantArg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.RelevantArg">RelevantArg</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span></div></div><p>Apply attributes to the original and translated declarations.</p></div></div><div class="decl" id="Mathlib.Tactic.Translate.copyMetaData"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L1255-L1274">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.copyMetaData"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">copyMetaData</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span></div></div><p>Copies equation lemmas and attributes from <code>src</code> to <code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config.tgt">tgt</a></code></p></div></div><div class="decl" id="Mathlib.Tactic.Translate.addTranslationAttr"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/df5c1e1b57202011acb349cd2f22fcd5cec09bc8/Mathlib/Tactic/Translate/Core.lean#L1276-L1312">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.addTranslationAttr"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Translate</span>.<span class="name">addTranslationAttr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.TranslateData">TranslateData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">src</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.Config">Config</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../../.././Lean/Attributes.html#Lean.AttributeKind">Lean.AttributeKind</a> := <a href="../../.././Lean/Attributes.html#Lean.AttributeKind.global">Lean.AttributeKind.global</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Attributes.html#Lean.AttrM">Lean.AttrM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span></div></div><p><code><a href="../../.././Mathlib/Tactic/Translate/Core.html#Mathlib.Tactic.Translate.addTranslationAttr">addTranslationAttr</a> src cfg</code> adds a translation attribute to <code>src</code> with configuration <code>cfg</code>.
See the attribute implementation for more details.
It returns an array with names of translated declarations (usually 1, but more if there are nested
<code>to_additive</code> calls).</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>